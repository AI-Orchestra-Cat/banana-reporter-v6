const _0x5b9ae1=_0x312c;(function(_0x5ab9b1,_0x18f935){const _0x361e63=_0x312c,_0x32dc36=_0x5ab9b1();while(!![]){try{const _0x35e717=parseInt(_0x361e63(0x1af))/0x1*(-parseInt(_0x361e63(0x1eb))/0x2)+parseInt(_0x361e63(0x1d7))/0x3*(-parseInt(_0x361e63(0x1c6))/0x4)+-parseInt(_0x361e63(0x1d5))/0x5*(parseInt(_0x361e63(0x213))/0x6)+parseInt(_0x361e63(0x21e))/0x7+parseInt(_0x361e63(0x194))/0x8+parseInt(_0x361e63(0x1c1))/0x9+-parseInt(_0x361e63(0x20f))/0xa*(parseInt(_0x361e63(0x226))/0xb);if(_0x35e717===_0x18f935)break;else _0x32dc36['push'](_0x32dc36['shift']());}catch(_0x35e2de){_0x32dc36['push'](_0x32dc36['shift']());}}}(_0x1dbb,0xcf9e1),console['log'](_0x5b9ae1(0x196)));let currentUser=null,currentImageData=null,analysisResult=null,visualJudgment=null;const COLOR_DATA=[{'level':0x2,'name':_0x5b9ae1(0x1ce),'color':_0x5b9ae1(0x1b3)},{'level':0x3,'name':_0x5b9ae1(0x19f),'color':_0x5b9ae1(0x18a)},{'level':0x4,'name':_0x5b9ae1(0x21d),'color':_0x5b9ae1(0x195)},{'level':0x5,'name':'グリーンチップ','color':_0x5b9ae1(0x1d2)},{'level':0x6,'name':_0x5b9ae1(0x1aa),'color':_0x5b9ae1(0x1b1)},{'level':0x7,'name':'スター','color':_0x5b9ae1(0x17e)},{'level':0x8,'name':'','color':_0x5b9ae1(0x220)},{'level':0x9,'name':'','color':'#795548'}];async function hashPassword(_0x13e53a){const _0x5e9d48=_0x5b9ae1,_0x259e06=new TextEncoder()['encode'](_0x13e53a),_0x1d1657=await crypto[_0x5e9d48(0x21f)][_0x5e9d48(0x1a2)](_0x5e9d48(0x192),_0x259e06),_0x598491=Array['from'](new Uint8Array(_0x1d1657));return _0x598491['map'](_0x419fbd=>_0x419fbd[_0x5e9d48(0x199)](0x10)['padStart'](0x2,'0'))['join']('');}const AUTH_CONFIG={'users':[{'id':_0x5b9ae1(0x202),'passHash':_0x5b9ae1(0x20e),'role':_0x5b9ae1(0x202)}]};function _0x312c(_0x467cc7,_0xc04bf6){const _0x1dbb27=_0x1dbb();return _0x312c=function(_0x312c86,_0x2a0e7c){_0x312c86=_0x312c86-0x172;let _0x30bb0d=_0x1dbb27[_0x312c86];return _0x30bb0d;},_0x312c(_0x467cc7,_0xc04bf6);}async function handleLogin(){const _0x44a701=_0x5b9ae1;console['log'](_0x44a701(0x216));const _0x5d5da0=document[_0x44a701(0x19d)](_0x44a701(0x19e))['value'][_0x44a701(0x1ef)](),_0x12f0a2=document[_0x44a701(0x19d)](_0x44a701(0x19c))[_0x44a701(0x1c7)];if(!_0x5d5da0||!_0x12f0a2){showError(_0x44a701(0x1d1));return;}const _0xfe76c8=await hashPassword(_0x12f0a2),_0x2f9758=AUTH_CONFIG[_0x44a701(0x180)][_0x44a701(0x1f9)](_0x15dc92=>_0x15dc92['id']===_0x5d5da0&&_0x15dc92[_0x44a701(0x1c4)]===_0xfe76c8);_0x2f9758?(console['log'](_0x44a701(0x1b7)),currentUser=_0x2f9758,sessionStorage[_0x44a701(0x18c)]('currentUser',JSON[_0x44a701(0x1ca)](currentUser)),showMainScreen()):showError('ログイン失敗：IDまたはパスワードが違います');}function showError(_0x57ab3a){const _0x520fa0=_0x5b9ae1,_0x139dcd=document[_0x520fa0(0x19d)](_0x520fa0(0x212));_0x139dcd?(_0x139dcd['textContent']=_0x57ab3a,_0x139dcd[_0x520fa0(0x211)][_0x520fa0(0x1cb)](_0x520fa0(0x210)),setTimeout(()=>_0x139dcd['classList'][_0x520fa0(0x18e)](_0x520fa0(0x210)),0xbb8)):alert(_0x57ab3a);}function showMainScreen(){const _0x1a32bf=_0x5b9ae1;document[_0x1a32bf(0x19d)](_0x1a32bf(0x219))['classList'][_0x1a32bf(0x18e)](_0x1a32bf(0x210)),document[_0x1a32bf(0x19d)](_0x1a32bf(0x20a))[_0x1a32bf(0x211)][_0x1a32bf(0x1cb)]('hidden');const _0x3d6914=document[_0x1a32bf(0x19d)](_0x1a32bf(0x1e1));_0x3d6914&&(_0x3d6914[_0x1a32bf(0x18f)]=currentUser['id']+_0x1a32bf(0x1df)),initializeColorChart();}function initializeColorChart(){const _0x56c357=_0x5b9ae1;console[_0x56c357(0x17a)]('Initializing\x20color\x20chart...');const _0x90ccd0=document[_0x56c357(0x19d)](_0x56c357(0x182));if(!_0x90ccd0){console[_0x56c357(0x188)](_0x56c357(0x1d3));return;}_0x90ccd0[_0x56c357(0x1dd)]='',COLOR_DATA['forEach'](_0x113dde=>{const _0x6e3a33=_0x56c357,_0x30f8de=document['createElement']('div');_0x30f8de['className']='color-item',_0x30f8de[_0x6e3a33(0x1ac)][_0x6e3a33(0x20b)]=_0x113dde[_0x6e3a33(0x20b)];const _0x22d6a3=document[_0x6e3a33(0x190)](_0x6e3a33(0x1f4));_0x22d6a3[_0x6e3a33(0x203)]='color-circle',_0x22d6a3['style']['background']=_0x113dde[_0x6e3a33(0x19b)];const _0x3addb3=document['createElement']('div');_0x3addb3[_0x6e3a33(0x203)]='color-level',_0x3addb3[_0x6e3a33(0x18f)]=_0x113dde['level'],_0x30f8de[_0x6e3a33(0x1f1)](_0x22d6a3),_0x30f8de[_0x6e3a33(0x1f1)](_0x3addb3);if(_0x113dde[_0x6e3a33(0x1e5)]){const _0x52afb1=document[_0x6e3a33(0x190)](_0x6e3a33(0x1f4));_0x52afb1[_0x6e3a33(0x203)]=_0x6e3a33(0x218),_0x52afb1['textContent']=_0x113dde[_0x6e3a33(0x1e5)],_0x30f8de['appendChild'](_0x52afb1);}_0x90ccd0[_0x6e3a33(0x1f1)](_0x30f8de);}),console[_0x56c357(0x17a)](_0x56c357(0x21b),COLOR_DATA['length'],_0x56c357(0x1ec));}function handleImageSelect(_0x17d9ff){const _0x161ace=_0x5b9ae1;console[_0x161ace(0x17a)]('Image\x20selected');const _0x518016=_0x17d9ff[_0x161ace(0x1d0)]['files'][0x0];if(!_0x518016)return;if(!_0x518016[_0x161ace(0x17d)][_0x161ace(0x214)](_0x161ace(0x1a0))){alert(_0x161ace(0x1a5));return;}const _0x13702f=new FileReader();_0x13702f[_0x161ace(0x224)]=function(_0x4acb1d){const _0x5de4cd=_0x161ace;currentImageData=_0x4acb1d[_0x5de4cd(0x1d0)][_0x5de4cd(0x178)];const _0x4e35d4=document[_0x5de4cd(0x19d)](_0x5de4cd(0x1e9));_0x4e35d4&&(_0x4e35d4[_0x5de4cd(0x1dd)]='<img\x20src=\x22'+_0x4acb1d[_0x5de4cd(0x1d0)][_0x5de4cd(0x178)]+'\x22\x20style=\x22max-width:\x20100%;\x20max-height:\x20400px;\x20border-radius:\x208px;\x22>');const _0x57f7f5=document[_0x5de4cd(0x19d)](_0x5de4cd(0x1cd));_0x57f7f5&&(_0x57f7f5[_0x5de4cd(0x1dc)]=![]);const _0x500dec=document['getElementById']('visualJudgment');_0x500dec&&(_0x500dec[_0x5de4cd(0x211)][_0x5de4cd(0x1cb)]('hidden'),initializeVisualJudgment()),console[_0x5de4cd(0x17a)](_0x5de4cd(0x1d6));},_0x13702f['readAsDataURL'](_0x518016);}function _0x1dbb(){const _0x1cfea7=['Initializing\x20app...','claimUnit','map','name','希望クレーム請求金額','スポット%','Visual\x20judgment\x20selected:','imagePreview','toLocaleDateString','3664pJNWyJ','items','パレット','\x0a\x20\x20\x20\x20\x20\x20\x20\x20','trim','banana_report_','appendChild','\x0a解析日時:\x20','selected','div','カラー','撮影日','reload','forEach','find','split','parse','confidence','.visual-color-item','リセットしますか？','code2','adminPanel','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22result-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22result-label\x22>信頼度</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22result-value\x22>','admin','className','resultContent','colorLevel','claimType','href','&body=','captureDate','mainScreen','level','目視判定','汎用コード2','5f24eab8e0e8aa6ea81c6af7a38e6a5cd8a17aff0ce70e81b3e88f574b45602c','705230oafGfo','hidden','classList','loginError','96fOBpRt','startsWith',')</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin:\x2020px\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>📊\x20システム情報</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>バージョン:\x20v6.7</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>最終更新:\x20','Login\x20button\x20clicked','解析日時','color-name','authScreen','contains','Color\x20chart\x20initialized\x20with','袋（パック）','ハーフグリーン','8255730nJUbrB','subtle','#FF9800','不一致','箱（ボックス）','loading','onload','黄色%','231MPpRqX','settingsBtn','claimAmount','判定一致:\x20','color-level','open','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','コンテナ','visual-color-item','result','storeName','log','\x0a\x0a解析者:\x20','カラーコード','type','#FFC107','option','users','toISOString','colorChart','<option\x20value=\x22\x22>選択してください</option>','本（個別）','解析を実行してからメール送信してください','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22result-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22result-label\x22>判定結果</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22result-value\x22>カラー','くされ','error','未入力','#4CAF50','商品名','setItem','random','add','textContent','createElement','\x0aバナナ品質管理レポート\x0a\x0a【解析結果】\x0a判定:\x20カラー','SHA-256','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleSettingsPanel()\x22\x20style=\x22padding:\x2010px\x2020px;\x22>閉じる</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','10052856DfRXcL','#8BC34A','app.js\x20loaded\x20-\x20v6.7\x20完全版','visualColorChart','fileInput','toString','onclick','color','password','getElementById','userId','ライトグリーン','image/','addEventListener','digest','onchange','clear','画像ファイルを選択してください','loginBtn','目視メモ','resetBtn','deliveryDate','フルイエロー','キログラム','dataset','解析ピクセル数','floor','690rWIEge','\x0a\x20\x20\x20\x20','#FFEB3B','exportBtn','#2E7D32','mailto:?subject=','fileBtn','店舗名','Login\x20success!','resultCard','ja-JP','cameraInput','緑色%','ケース','メールアプリを起動しました\x0a\x0a※実際の自動送信にはサーバー側の実装が必要です','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22result-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22result-label\x22>判定一致</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22result-value\x22>','汎用コード1','click','10864656SJmqvw','chainName','バナナ品質レポート_','passHash','青ぶく','4caIUFB','value','code3','getItem','stringify','remove','emailBtn','analyzeBtn','オールグリーン','join','target','ユーザーIDとパスワードを入力してください','#CDDC39','colorChart\x20element\x20not\x20found','createObjectURL','13795dsoplt','Image\x20loaded\x20successfully','10719BVOfkQ','role','ログアウトしますか？','productName','style','disabled','innerHTML','CSVファイルをダウンロードしました','（管理者）','\x0a信頼度:\x20','currentUserDisplay'];_0x1dbb=function(){return _0x1cfea7;};return _0x1dbb();}function initializeVisualJudgment(){const _0xc4ce4c=_0x5b9ae1,_0x226796=document[_0xc4ce4c(0x19d)](_0xc4ce4c(0x197));if(!_0x226796)return;_0x226796['innerHTML']='',COLOR_DATA[_0xc4ce4c(0x1f8)](_0xbef2ca=>{const _0x4e5931=_0xc4ce4c,_0x42f9cf=document['createElement'](_0x4e5931(0x1f4));_0x42f9cf[_0x4e5931(0x203)]=_0x4e5931(0x177),_0x42f9cf['dataset'][_0x4e5931(0x20b)]=_0xbef2ca[_0x4e5931(0x20b)];const _0x56f4fc=document['createElement'](_0x4e5931(0x1f4));_0x56f4fc['className']='color-circle',_0x56f4fc[_0x4e5931(0x1db)]['background']=_0xbef2ca['color'];const _0x9aab9f=document['createElement'](_0x4e5931(0x1f4));_0x9aab9f['className']=_0x4e5931(0x173),_0x9aab9f[_0x4e5931(0x18f)]=_0xbef2ca['level'];const _0x51c922=document[_0x4e5931(0x190)]('div');_0x51c922[_0x4e5931(0x203)]=_0x4e5931(0x218),_0x51c922[_0x4e5931(0x18f)]=_0xbef2ca[_0x4e5931(0x1e5)]||'',_0x42f9cf[_0x4e5931(0x1f1)](_0x56f4fc),_0x42f9cf[_0x4e5931(0x1f1)](_0x9aab9f),_0x42f9cf[_0x4e5931(0x1f1)](_0x51c922),_0x42f9cf[_0x4e5931(0x19a)]=function(){const _0x2af324=_0x4e5931;selectVisualJudgment(_0xbef2ca[_0x2af324(0x20b)]);},_0x226796[_0x4e5931(0x1f1)](_0x42f9cf);});}function selectVisualJudgment(_0x30664d){const _0x33bdb2=_0x5b9ae1;visualJudgment={'level':_0x30664d},document['querySelectorAll'](_0x33bdb2(0x1fd))['forEach'](_0x4d2d05=>{const _0x2be2b2=_0x33bdb2;_0x4d2d05[_0x2be2b2(0x211)]['remove'](_0x2be2b2(0x1f3)),_0x4d2d05[_0x2be2b2(0x1ac)][_0x2be2b2(0x20b)]==_0x30664d&&_0x4d2d05[_0x2be2b2(0x211)][_0x2be2b2(0x18e)]('selected');}),console[_0x33bdb2(0x17a)](_0x33bdb2(0x1e8),_0x30664d);}function performAnalysis(){const _0x7f1bd1=_0x5b9ae1;if(!currentImageData){alert('画像を選択してください');return;}const _0x170868=Math[_0x7f1bd1(0x1ae)](Math[_0x7f1bd1(0x18d)]()*0x8)+0x2;analysisResult={'colorLevel':_0x170868,'confidence':Math[_0x7f1bd1(0x1ae)](Math[_0x7f1bd1(0x18d)]()*0x1e)+0x46};const _0x307e4e=document[_0x7f1bd1(0x19d)](_0x7f1bd1(0x1b8)),_0xa635d3=document[_0x7f1bd1(0x19d)](_0x7f1bd1(0x204));if(_0x307e4e&&_0xa635d3){const _0x48a5f7=COLOR_DATA['find'](_0x514978=>_0x514978['level']===_0x170868);_0xa635d3[_0x7f1bd1(0x1dd)]=_0x7f1bd1(0x186)+_0x170868+'\x20'+_0x48a5f7[_0x7f1bd1(0x1e5)]+_0x7f1bd1(0x201)+analysisResult['confidence']+'%</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(visualJudgment?'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22result-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22result-label\x22>目視判定</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22result-value\x22>カラー'+visualJudgment[_0x7f1bd1(0x20b)]+_0x7f1bd1(0x1be)+(analysisResult['colorLevel']===visualJudgment[_0x7f1bd1(0x20b)]?'一致':_0x7f1bd1(0x221))+_0x7f1bd1(0x175):'')+_0x7f1bd1(0x1ee),_0x307e4e[_0x7f1bd1(0x211)][_0x7f1bd1(0x1cb)](_0x7f1bd1(0x210));}const _0x337e67=document[_0x7f1bd1(0x19d)](_0x7f1bd1(0x1b2));_0x337e67&&(_0x337e67[_0x7f1bd1(0x1dc)]=![]);const _0x5d1e82=document[_0x7f1bd1(0x19d)](_0x7f1bd1(0x1cc));_0x5d1e82&&(_0x5d1e82[_0x7f1bd1(0x1dc)]=![]);}function exportCSV(){const _0x33d3fd=_0x5b9ae1,_0x3f6dff=['クレーム種別','納品日',_0x33d3fd(0x1f6),_0x33d3fd(0x18b),'チェーン名',_0x33d3fd(0x1b6),'数量','単位',_0x33d3fd(0x1bf),_0x33d3fd(0x20d),'汎用コード3',_0x33d3fd(0x1e6),_0x33d3fd(0x17c),'熟度段階','信頼度',_0x33d3fd(0x1bb),'黄緑色%',_0x33d3fd(0x225),_0x33d3fd(0x1e7),'褐色%','その他%',_0x33d3fd(0x1ad),'処理時間ms',_0x33d3fd(0x20c),_0x33d3fd(0x1a7),'判定一致','解析者',_0x33d3fd(0x217)];let _0x73c553='';if(visualJudgment){const _0x3f32b0=COLOR_DATA['find'](_0x2ec787=>_0x2ec787[_0x33d3fd(0x20b)]===visualJudgment[_0x33d3fd(0x20b)]);_0x73c553=_0x33d3fd(0x1f5)+visualJudgment[_0x33d3fd(0x20b)]+(_0x3f32b0?.[_0x33d3fd(0x1e5)]||'');}const _0x22b6a3=[document['getElementById']('claimType')?.[_0x33d3fd(0x1c7)]||'',document[_0x33d3fd(0x19d)]('deliveryDate')?.[_0x33d3fd(0x1c7)]||'',document['getElementById'](_0x33d3fd(0x209))?.['value']||'',document['getElementById'](_0x33d3fd(0x1da))?.['value']||'',document['getElementById'](_0x33d3fd(0x1c2))?.['value']||'',document[_0x33d3fd(0x19d)](_0x33d3fd(0x179))?.[_0x33d3fd(0x1c7)]||'',document[_0x33d3fd(0x19d)]('claimQuantity')?.[_0x33d3fd(0x1c7)]||'',document[_0x33d3fd(0x19d)](_0x33d3fd(0x1e3))?.[_0x33d3fd(0x1c7)]||'',document[_0x33d3fd(0x19d)]('code1')?.[_0x33d3fd(0x1c7)]||'',document['getElementById'](_0x33d3fd(0x1ff))?.[_0x33d3fd(0x1c7)]||'',document[_0x33d3fd(0x19d)](_0x33d3fd(0x1c8))?.['value']||'',document['getElementById'](_0x33d3fd(0x228))?.[_0x33d3fd(0x1c7)]||'',analysisResult?.[_0x33d3fd(0x205)]||'',COLOR_DATA[_0x33d3fd(0x1f9)](_0x2ee828=>_0x2ee828[_0x33d3fd(0x20b)]===analysisResult?.[_0x33d3fd(0x205)])?.[_0x33d3fd(0x1e5)]||'',analysisResult?.[_0x33d3fd(0x1fc)]||'','0','0','0','0','0','0','0','0',_0x73c553,document[_0x33d3fd(0x19d)]('visualJudgmentMemo')?.[_0x33d3fd(0x1c7)]||'',analysisResult&&visualJudgment&&analysisResult['colorLevel']===visualJudgment[_0x33d3fd(0x20b)]?'一致':'不一致',currentUser?.['id']||'',new Date()['toLocaleString']('ja-JP')],_0x33d000='\ufeff'+_0x3f6dff['join'](',')+'\x0a'+_0x22b6a3[_0x33d3fd(0x1e4)](_0x3e79fc=>'\x22'+_0x3e79fc+'\x22')[_0x33d3fd(0x1cf)](','),_0x16e55d=new Blob([_0x33d000],{'type':'text/csv;charset=utf-8;'}),_0x5c18c9=URL[_0x33d3fd(0x1d4)](_0x16e55d),_0x26a4af=document['createElement']('a');_0x26a4af[_0x33d3fd(0x207)]=_0x5c18c9,_0x26a4af['download']=_0x33d3fd(0x1f0)+new Date()[_0x33d3fd(0x181)]()['slice'](0x0,0xa)+'.csv',_0x26a4af[_0x33d3fd(0x1c0)](),alert(_0x33d3fd(0x1de));}function handleLogout(){const _0x2f5ce4=_0x5b9ae1;confirm(_0x2f5ce4(0x1d9))&&(sessionStorage[_0x2f5ce4(0x1a4)](),location[_0x2f5ce4(0x1f7)]());}function initApp(){const _0x40a250=_0x5b9ae1;console[_0x40a250(0x17a)](_0x40a250(0x1e2));const _0x102161=sessionStorage[_0x40a250(0x1c9)]('currentUser');_0x102161&&(currentUser=JSON[_0x40a250(0x1fb)](_0x102161),showMainScreen());const _0x2d34ce=document[_0x40a250(0x19d)](_0x40a250(0x1a6));_0x2d34ce&&(_0x2d34ce[_0x40a250(0x19a)]=handleLogin);const _0xe812b4=document[_0x40a250(0x19d)]('logoutBtn');_0xe812b4&&(_0xe812b4[_0x40a250(0x19a)]=handleLogout);const _0x506812=document['getElementById']('cameraBtn');_0x506812&&(_0x506812[_0x40a250(0x19a)]=function(){const _0x5cab82=_0x40a250;document['getElementById'](_0x5cab82(0x1ba))[_0x5cab82(0x1c0)]();});const _0x2029d3=document['getElementById'](_0x40a250(0x1b5));_0x2029d3&&(_0x2029d3[_0x40a250(0x19a)]=function(){const _0x54a416=_0x40a250;document[_0x54a416(0x19d)](_0x54a416(0x198))[_0x54a416(0x1c0)]();});const _0x2a328f=document[_0x40a250(0x19d)](_0x40a250(0x1ba));_0x2a328f&&(_0x2a328f[_0x40a250(0x1a3)]=handleImageSelect);const _0x291e31=document[_0x40a250(0x19d)]('fileInput');_0x291e31&&(_0x291e31[_0x40a250(0x1a3)]=handleImageSelect);const _0x1e9371=document[_0x40a250(0x19d)](_0x40a250(0x1cd));_0x1e9371&&(_0x1e9371[_0x40a250(0x19a)]=performAnalysis);const _0x3b6d69=document[_0x40a250(0x19d)](_0x40a250(0x1b2));_0x3b6d69&&(_0x3b6d69[_0x40a250(0x19a)]=exportCSV);const _0x165da8=document[_0x40a250(0x19d)](_0x40a250(0x1a8));_0x165da8&&(_0x165da8['onclick']=function(){const _0x425e5e=_0x40a250;confirm(_0x425e5e(0x1fe))&&location[_0x425e5e(0x1f7)]();});const _0x4d729f=new Date()['toISOString']()[_0x40a250(0x1fa)]('T')[0x0],_0x2d5b2b=document[_0x40a250(0x19d)](_0x40a250(0x1a9));if(_0x2d5b2b)_0x2d5b2b[_0x40a250(0x1c7)]=_0x4d729f;const _0x1fa8f8=document[_0x40a250(0x19d)](_0x40a250(0x209));if(_0x1fa8f8)_0x1fa8f8[_0x40a250(0x1c7)]=_0x4d729f;const _0x11792c=['過熟','未熟',_0x40a250(0x187),'おされ＆傷','カビ',_0x40a250(0x1c5),'黄ぶく','その他'],_0x570c3f=document['getElementById'](_0x40a250(0x206));_0x570c3f&&(_0x570c3f[_0x40a250(0x1dd)]=_0x40a250(0x183),_0x11792c[_0x40a250(0x1f8)](_0x1bfe24=>{const _0x45e53a=_0x40a250,_0x524772=document[_0x45e53a(0x190)](_0x45e53a(0x17f));_0x524772[_0x45e53a(0x1c7)]=_0x1bfe24,_0x524772[_0x45e53a(0x18f)]=_0x1bfe24,_0x570c3f['appendChild'](_0x524772);}));const _0x239ee8=[_0x40a250(0x184),'房（束）',_0x40a250(0x21c),_0x40a250(0x222),_0x40a250(0x1bc),_0x40a250(0x1ed),_0x40a250(0x176),_0x40a250(0x1ab),'その他'],_0x4c7f78=document[_0x40a250(0x19d)](_0x40a250(0x1e3));_0x4c7f78&&(_0x4c7f78[_0x40a250(0x1dd)]='<option\x20value=\x22\x22>選択してください</option>',_0x239ee8['forEach'](_0x5d6876=>{const _0x378c53=_0x40a250,_0x5ac1d6=document[_0x378c53(0x190)](_0x378c53(0x17f));_0x5ac1d6[_0x378c53(0x1c7)]=_0x5d6876,_0x5ac1d6[_0x378c53(0x18f)]=_0x5d6876;if(_0x5d6876==='袋（パック）')_0x5ac1d6[_0x378c53(0x1f3)]=!![];_0x4c7f78[_0x378c53(0x1f1)](_0x5ac1d6);}));const _0x2733bf=document[_0x40a250(0x19d)](_0x40a250(0x227));_0x2733bf&&(_0x2733bf['onclick']=toggleSettingsPanel);const _0x2d4457=document[_0x40a250(0x19d)](_0x40a250(0x1cc));_0x2d4457&&(_0x2d4457['onclick']=sendEmail);}function toggleSettingsPanel(){const _0x32f31e=_0x5b9ae1,_0x14fcec=document[_0x32f31e(0x19d)](_0x32f31e(0x200));if(_0x14fcec){if(_0x14fcec[_0x32f31e(0x211)][_0x32f31e(0x21a)]('hidden')){_0x14fcec[_0x32f31e(0x211)]['remove'](_0x32f31e(0x210));const _0x290386='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22padding:\x2020px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h3>⚙️\x20管理設定</h3>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20style=\x22margin:\x2020px\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h4>👤\x20ログインユーザー</h4>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p>'+currentUser['id']+'\x20('+currentUser[_0x32f31e(0x1d8)]+_0x32f31e(0x215)+new Date()[_0x32f31e(0x1ea)](_0x32f31e(0x1b9))+_0x32f31e(0x193);_0x14fcec[_0x32f31e(0x1dd)]=_0x290386;}else _0x14fcec[_0x32f31e(0x211)][_0x32f31e(0x18e)]('hidden');}else alert('管理者設定（開発中）\x0a\x0a現在のユーザー:\x20'+currentUser['id']);}function sendEmail(){const _0x3fa987=_0x5b9ae1;if(!analysisResult){alert(_0x3fa987(0x185));return;}const _0x5d46ad=_0x3fa987(0x1c3)+new Date()[_0x3fa987(0x1ea)](_0x3fa987(0x1b9)),_0x32fc95=(_0x3fa987(0x191)+analysisResult['colorLevel']+'\x20'+(COLOR_DATA[_0x3fa987(0x1f9)](_0x55720b=>_0x55720b[_0x3fa987(0x20b)]===analysisResult['colorLevel'])?.[_0x3fa987(0x1e5)]||'')+_0x3fa987(0x1e0)+analysisResult[_0x3fa987(0x1fc)]+'%\x0a'+(visualJudgment?'目視判定:\x20カラー'+visualJudgment[_0x3fa987(0x20b)]:'')+'\x0a'+(visualJudgment?_0x3fa987(0x172)+(analysisResult[_0x3fa987(0x205)]===visualJudgment['level']?'一致':'不一致'):'')+'\x0a\x0a【商品情報】\x0a商品名:\x20'+(document[_0x3fa987(0x19d)]('productName')?.[_0x3fa987(0x1c7)]||_0x3fa987(0x189))+'\x0aチェーン名:\x20'+(document[_0x3fa987(0x19d)](_0x3fa987(0x1c2))?.[_0x3fa987(0x1c7)]||_0x3fa987(0x189))+'\x0a店舗名:\x20'+(document[_0x3fa987(0x19d)](_0x3fa987(0x179))?.[_0x3fa987(0x1c7)]||_0x3fa987(0x189))+_0x3fa987(0x17b)+currentUser['id']+_0x3fa987(0x1f2)+new Date()['toLocaleString'](_0x3fa987(0x1b9))+_0x3fa987(0x1b0))[_0x3fa987(0x1ef)](),_0x4f05ea=_0x3fa987(0x1b4)+encodeURIComponent(_0x5d46ad)+_0x3fa987(0x208)+encodeURIComponent(_0x32fc95);window[_0x3fa987(0x174)](_0x4f05ea),alert(_0x3fa987(0x1bd));}document['readyState']===_0x5b9ae1(0x223)?document[_0x5b9ae1(0x1a1)]('DOMContentLoaded',initApp):initApp();
